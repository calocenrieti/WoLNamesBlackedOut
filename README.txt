【ソフト名】WoLNamesBlackedOut
【著作権者】ｶﾛｾﾝﾘｰﾁ
【制作日】2024/08/14
【種　別】フリーソフト
【連絡先】X:@calcMCalcm
【配布元】https://blog.calocenrieti.com/blog/wol_names_blacked_out/
【転　載】
【登 録 名】
【圧縮形式】ZIP
【動作環境】Windows11 64bit　（たぶんWindows10 64bitでも大丈夫たぶん）
【開発環境】Python3.11
―――――――――――――――――――――――――――――――――――――
≪著作権および免責事項≫

　本ソフトはフリーソフトです。自由にご使用ください。なお，著作権は作者
である"ｶﾛｾﾝﾘｰﾁ"が保有しています。

　このソフトウェアを使用したことによって生じたすべての障害・損害・不具
合等に関しては、私と私の関係者および私の所属するいかなる団体・組織とも、
一切の責任を負いません。各自の責任においてご使用ください。

―――――――――――――――――――――――――――――――――――――

FFXIVのMP4動画からPC名を黒塗りするソフトウェアです。
FF14のおもしろプレイ動画をyoutubeとかにアップしたいけど、
そこには他の人も映り込んでいるので、
気軽に公開できないんだよねーという問題に対応するため、つくりました。

CUDAを利用しているため、Nvidia GPU推奨です。
CPUでも動作すると思いますが、GPU利用時よりは遅いです。
CUDA利用時は20FPS程度の処理となります。


・処理前後のサンプル動画
処理前：
https://youtu.be/oklXwWOAq1A
処理後：（Score Threshold=0.09）
https://youtu.be/X-U9s3WTbNo
動画では青魔道士ばかりですが、ジョブ問わず消してくれるはずです。


・使い方
1.処理したい動画ファイルと、保存するファイル名を設定し、
2.検出スコア（Score Threshold）を設定し、
3.Previewで、処理イメージを確認。
4.隣のバーでフレーム指定し、再度Previewを押すことで、
　いろんなフレームでの処理結果を確認できます。
5.この検出スコアで良いなと思ったら、BlackedOut Startで処理開始。
6.気長に待ちましょう。

Score Thresholdの値を変更することで、ユーザ名の検出率を変更します。
Score Thresholdの数値を小さくする
 → より検出しやすくなる。誤検知も増える。
Score Thresholdの数値を大きくする
 → 検出しにくくなる。誤検知が減る。


・既知の不具合（もしかしたら直します）
思っていたより音声の処理が遅いです。くるくるでお茶を濁しています。元気があればプログレスバーにするかもしれません。
一時ファイルの動画がバカでかい（なんかビットレートがすごい）


・利用上のTIPS
検出スコアのデフォルト値は0.09としていますが、
0.2あたりでも大丈夫な場合が多いのではないかと予想しています。
検出はGPUですが、黒塗りをするのはCPUなので、
Score Thresholdの数値を小さく遅くなります。
エフェクトもりもりの動画で作成しているので、
エフェクト少な目のバトルガチ勢の画面であれば、
きれいに消えるのではないかと思います。
但しUIをいろいろ変えてまでの学習はさせてないので、
消えないものはいくら数値を下げても消えないかもしれません。

街中などでもある程度消えると思いますが、
あまり期待しないでください。

出力がSDR画質にしかならないため、SDR画質での動画を入力データとしています。
HDR画質の動画の場合でも検出されますが、出力結果はSDRとなって白飛びします。
Handbrakeなどで、事前に色空間をBT.709にしていただくのがおすすめです。
取り込み時にHDR→SDRにも対応したいと思っています。


・その他
アプリに署名がないので、
「出所の怪しいソフトですが、実行しますか？」
というような警告が出ると思います。
こちらを回避するためにMicrosoftストアへの登録も試みましたが、
ファイルサイズなどの問題から諦めました。

このパターンは消えて欲しいけど、必ずと言ってもいいほど消えないんだよねー
というものがあれば、パターンを教えていただければ、対応できるかもしれません。
学習データの作成が大変なので、過度な期待はしないでください。

よろしくおねがいしますー

